<!DOCTYPE html>
<html>
  <head>
    <title>Log Utils Demo</title>
    <!-- CSS -->
    <link rel="stylesheet" href="style/external/bootstrap.min.css" />
    <link rel="stylesheet" href="style/style.css" />

    <!-- JS -->
    <script src="js/logUtil.js"></script>
    <script src="js/external/jquery-3.4.1.min.js"></script>
    <script src="js/external/bootstrap.min.js"></script>
    <script src="js/external/monaco-editor/min/vs/loader.js"></script>
    <script>
      require.config({
        paths: { vs: "js/external/monaco-editor/min/vs" },
      });
      require(["vs/editor/editor.main"], function () {
        window.monacoEditor = monaco.editor.create(
          document.querySelector(".editor"),
          {
            language: "log",
            scrollBeyondLastLine: false,
          }
        );
        monacoEditor.getModel().onDidChangeContent(() => {
          document.getElementById("data").innerText = "";
          document.getElementById("status").innerText = "Parsing...";
          const code = monacoEditor.getValue();
          // logE.value = logUtil.normalizeLog(logUtil.cleanLog(code));
          console.log(logUtil.parseLog(logUtil.cleanLog(code)));
          document.getElementById("data").innerText = JSON.stringify(
            logUtil.parseLog(logUtil.cleanLog(code)),
            null,
            2
          );
          document.getElementById("status").innerText = "";
        });
      });
    </script>
  </head>
  <body>
    <div id="wrapper">
      <div id="page-wrapper" class="row m-0">
        <div class="col col-6 scrollable shadow">
          <div class="editor"></div>
        </div>
        <div class="col col-6 scrollable">
          <div id="status"></div>
          <pre id="data"></pre>
        </div>
      </div>
    </div>
  </body>
</html>
